# Rust template engine benchmarks

This repo tries to assess Rust template engine performance. Following the
download ratings from [crates.io][crates], these nine projects are assessed:

- [write!][write]: the std library `write!` macro
- [Handlebars][handlebars]: Handlebars templating implemented in Rust
- [Tera][tera]: template engine based on Jinja2/Django templates
- [Liquid][liquid]: the liquid templating language for Rust
- [Askama][askama]: type-safe, compiled Jinja-like templates for Rust
- [horrorshow][horrorshow]: a templating library written in rust macros
- [ructe][ructe]: Rust Compiled Templates, efficient type-safe web page templates
- [fomat][fomat]: alternative syntax for print/write/format-like macros with a small templating language
- [markup][markup]: A blazing fast, type-safe template engine for Rust.
- [maud][maud]: A Compile-time HTML template engine for Rust.
- [sailfish][sailfish]: Simple, small, and extremely fast template engine for Rust 

[crates]: https://crates.io/categories/template-engine
[write]: https://doc.rust-lang.org/std/macro.write.html
[handlebars]: https://github.com/sunng87/handlebars-rust
[tera]: https://github.com/Keats/tera
[liquid]: https://github.com/cobalt-org/liquid-rust
[askama]: https://github.com/djc/askama
[ructe]: https://github.com/kaj/ructe
[horrorshow]: https://github.com/Stebalien/horrorshow-rs
[fomat]: https://github.com/krdln/fomat-macros
[markup]: https://github.com/utkarshkukreti/markup.rs
[sailfish]: https://github.com/Kogia-sima/sailfish
[maud]: https://github.com/lambda-fairy/maud

## Results

These results are from 2023-12-11 (1.70.0 (90c541806 2023-05-31)), running on an MacBook M1 Max (2021). Your mileage may vary.

As a [violin plot] generated by [Criterion]:

![Big table violin plot](big-table.svg)
![Teams violin plot](teams.svg)

[violin plot]: https://en.wikipedia.org/wiki/Violin_plot
[Criterion]: https://japaric.github.io/criterion.rs/

Numbers, as output by Criterion:

```
Big table/Askama        time:   [270.20 µs 270.52 µs 270.84 µs]
Big table/fomat         time:   [184.45 µs 185.26 µs 186.01 µs]
Big table/Handlebars    time:   [3.1478 ms 3.1525 ms 3.1571 ms]
Big table/Horrorshow    time:   [139.63 µs 140.07 µs 140.50 µs]
Big table/Liquid        time:   [4.3180 ms 4.3256 ms 4.3333 ms]
Big table/Markup        time:   [112.09 µs 112.39 µs 112.70 µs]
Big table/Maud          time:   [59.729 µs 60.053 µs 60.386 µs]
Big table/Ructe         time:   [175.07 µs 175.59 µs 176.13 µs]
Big table/Sailfish      time:   [16.621 µs 16.680 µs 16.739 µs]
Big table/Tera          time:   [738.93 µs 739.49 µs 740.05 µs]
Big table/write         time:   [202.69 µs 203.26 µs 203.87 µs]

Teams/Askama            time:   [344.99 ns 345.72 ns 346.54 ns]
Teams/fomat             time:   [287.73 ns 288.21 ns 288.98 ns]
Teams/Handlebars        time:   [3.1107 µs 3.1180 µs 3.1250 µs]
Teams/Horrorshow        time:   [235.47 ns 236.36 ns 237.23 ns]
Teams/Liquid            time:   [4.4516 µs 4.4553 µs 4.4593 µs]
Teams/Markup            time:   [149.03 ns 149.53 ns 150.00 ns]
Teams/Maud              time:   [103.20 ns 103.63 ns 104.08 ns]
Teams/Ructe             time:   [376.12 ns 376.97 ns 377.90 ns]
Teams/Sailfish          time:   [74.275 ns 74.396 ns 74.513 ns]
Teams/Tera              time:   [2.2066 µs 2.2112 µs 2.2160 µs]
Teams/write             time:   [393.35 ns 394.17 ns 394.99 ns]
```

## Running the benchmarks

```bash
$ cargo bench
```

Plots will be rendered if `gnuplot` is installed and will be available in the
`target/criterion` folder.
